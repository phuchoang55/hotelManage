<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Khách sạn Hội An | Di sản phương Đông sống động</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Poppins", sans-serif;
        }

        body {
            color: #333;
            background-color: #fff;
            scroll-behavior: smooth;
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 80px;
            transition: background 0.4s ease;
        }

        header.scrolled {
            background: #fff;
            color: #000;
        }

        header .logo {
            font-size: 1.4rem;
            font-weight: bold;
            color: #f9c74f;
        }

        nav {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 10px;
            font-weight: 500;
        }

        header.scrolled nav a {
            color: #333;
        }

        .btn-primary {
            padding: 10px 25px;
            border: 1px solid #f9c74f;
            background: #f9c74f;
            color: #000;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn-primary:hover {
            background: #d4a017;
        }

        .hero {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .slider {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.45);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .booking-form {
            position: relative;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            z-index: 2;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 10px;
        }

        .booking-form input,
        .booking-form select {
            padding: 10px;
            border: none;
            border-radius: 4px;
            width: 200px;
        }

        section {
            padding: 80px 100px;
            text-align: center;
        }

        section h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #222;
        }

        .about,
        .rooms,
        .dining,
        .amenities {
            background: #f9f9f9;
            margin-bottom: 20px;
            border-radius: 12px;
            padding: 60px 40px;
        }

        .rooms .grid,
        .dining .grid,
        .amenities .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .room,
        .dining-item,
        .amenity {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .room img,
        .dining-item img,
        .amenity img {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        footer {
            background: #222;
            color: #fff;
            padding: 40px;
            text-align: center;
        }

        footer p {
            margin-top: 10px;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 10px 20px;
            }

            section {
                padding: 60px 20px;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .booking-form {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

<div th:replace="~{fragments/header :: header}"></div>

<section class="hero" id="home">
    <div class="slider">
        <div class="slide active"
             style="background-image:url('https://images.unsplash.com/photo-1568495248636-6432b97bd949?auto=format&fit=crop&w=1600&q=80');"></div>
        <div class="slide"
             style="background-image:url('https://images.unsplash.com/photo-1582719478148-9fffe0b0f9b4?auto=format&fit=crop&w=1600&q=80');"></div>
        <div class="slide"
             style="background-image:url('https://images.unsplash.com/photo-1600585154350-088c12dfea5f?auto=format&fit=crop&w=1600&q=80');"></div>
        <div class="slide"
             style="background-image:url('https://images.unsplash.com/photo-1571896349842-33c89424de3e?auto=format&fit=crop&w=1600&q=80');"></div>
    </div>
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1>Khách sạn Hội An</h1>
        <p>Di sản phương Đông sống động</p>
        <div class="booking-form">
            <form th:action="@{/booking/search}" method="get" id="searchForm">
                <input type="date" class="form-control" id="checkInDate" name="checkInDate"
                       th:value="${checkInDate}" required placeholder="Ngày nhận phòng">

                <input type="date" class="form-control" id="checkOutDate" name="checkOutDate"
                       th:value="${checkOutDate}" required placeholder="Ngày trả phòng">

                <label for="amountPerson" class="form-label">Số người:</label>
                <select class="form-select" id="amountPerson" name="amountPerson" required>
                    <option value="">Chọn</option>
                    <option th:value="1" th:selected="${amountPerson == 1}">1 người</option>
                    <option th:value="2" th:selected="${amountPerson == 2}">2 người</option>
                    <option th:value="3" th:selected="${amountPerson == 3}">3 người</option>
                    <option th:value="4" th:selected="${amountPerson == 4}">4 người</option>
                </select>

                <button type="submit" class="btn-primary">
                    Tìm phòng
                </button>
            </form>
        </div>
    </div>
</section>

<section class="about">
    <h2>Về khách sạn Hội An</h2>
    <p>Khám phá nét di sản phương Đông giữa lòng phố cổ Hội An. Khách sạn của chúng tôi mang đến không gian thanh lịch, kết hợp giữa truyền thống và hiện đại — lý tưởng cho chuyến nghỉ dưỡng hoặc công tác.</p>
</section>

<section class="rooms" id="rooms">
    <h2>Phòng nghỉ</h2>
    <div class="grid">

        <div class="room">
            <img src="https://images.unsplash.com/photo-1590490360182-c33d57733427?auto=format&fit=crop&w=800&q=80" alt="Phòng Deluxe sang trọng">
            <h3>Phòng Deluxe</h3>
        </div>

        <div class="room">
            <img src="https://images.unsplash.com/photo-1611892440504-42a792e24d32?auto=format&fit=crop&w=800&q=80" alt="Phòng Suite cao cấp có ban công">
            <h3>Phòng Suite</h3>
        </div>

        <div class="room">
            <img src="https://images.unsplash.com/photo-1626218178445-90d89fbb490b?auto=format&fit=crop&w=800&q=80" alt="Phòng Gia đình rộng rãi ấm cúng">
            <h3>Phòng Gia đình</h3>
        </div>
    </div>
</section>

<section class="dining" id="dining">
    <h2>Ẩm thực</h2>
    <div class="grid">
        <div class="dining-item"><img src="https://images.unsplash.com/photo-1553621042-f6e147245754?auto=format&fit=crop&w=800&q=80" alt="">
            <h3>Nhà hàng Hội An</h3></div>
        <div class="dining-item"><img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=80" alt="">
            <h3>Quầy bar & Phòng chờ</h3></div>
    </div>
</section>

<section class="amenities" id="amenities">
    <h2>Tiện nghi</h2>
    <div class="grid">
        <div class="amenity">
            <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80" alt="Hồ bơi ngoài trời với tầm nhìn đẹp">
            <h3>Hồ bơi ngoài trời</h3>
        </div>

        <div class="amenity">
            <img src="https://images.unsplash.com/photo-1600334129128-685c5582fd35?auto=format&fit=crop&w=800&q=80" alt="Phòng Spa & Massage thư giãn">
            <h3>Spa & Massage</h3>
        </div>

        <div class="amenity">
            <img src="https://images.unsplash.com/photo-1558611848-73f7eb4001a1?auto=format&fit=crop&w=800&q=80" alt="Phòng tập thể hình hiện đại">
            <h3>Phòng tập thể hình</h3>
        </div>
    </div>
</section>

<div th:replace="~{fragments/footer :: footer}"></div>

<script>
    window.addEventListener("scroll", () => {
        const nav = document.getElementById("navbar");
        if (window.scrollY > 100) nav.classList.add("scrolled");
        else nav.classList.remove("scrolled");
    });

    const slides = document.querySelectorAll(".slide");
    let index = 0;

    function showNextSlide() {
        slides[index].classList.remove("active");
        index = (index + 1) % slides.length;
        slides[index].classList.add("active");
    }

    setInterval(showNextSlide, 5000);

    document.getElementById('searchForm')?.addEventListener('submit', function(e) {
        const checkIn = new Date(document.getElementById('checkInDate').value);
        const checkOut = new Date(document.getElementById('checkOutDate').value);
        const today = new Date();
        today.setHours(0, 0, 0, 0);

        if (checkIn < today) {
            e.preventDefault();
            alert('Ngày nhận phòng phải từ hôm nay trở đi');
            return;
        }

        if (checkOut <= checkIn) {
            e.preventDefault();
            alert('Ngày trả phòng phải sau ngày nhận phòng');
            return;
        }
    });

    // Giới hạn ngày nhỏ nhất
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('checkInDate')?.setAttribute('min', today);
    document.getElementById('checkOutDate')?.setAttribute('min', today);
    document.getElementById('checkInDate')?.addEventListener('change', function() {
        const checkInDate = this.value;
        document.getElementById('checkOutDate')?.setAttribute('min', checkInDate);
    });
</script>
</body>
</html>
